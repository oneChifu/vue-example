{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.array.concat.js","webpack:///./src/views/Users.vue?52e0","webpack:///./src/components/UserCard.vue?225a","webpack:///src/components/UserCard.vue","webpack:///./src/components/UserCard.vue?e981","webpack:///./src/components/UserCard.vue","webpack:///src/views/Users.vue","webpack:///./src/views/Users.vue?73cc","webpack:///./src/views/Users.vue"],"names":["$","fails","isArray","isObject","toObject","toLength","createProperty","arraySpeciesCreate","arrayMethodHasSpeciesSupport","wellKnownSymbol","V8_VERSION","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","array","concat","SPECIES_SUPPORT","isConcatSpreadable","O","spreadable","undefined","FORCED","target","proto","forced","arg","i","k","length","len","E","this","A","n","arguments","TypeError","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","$t","_l","card","uid","checkCurrentUser","_e","key","attrs","on","setLike","removeLike","staticRenderFns","info","name","user","checkLike","$event","$emit","Object","keys","likes","data","props","type","String","required","mounted","console","log","methods","computed","component","users","loading","components","UserCard","loggedIn"],"mappings":"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","file":"js/chunk-fda5bd48.21639726.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  concat: function concat(arg) { // eslint-disable-line no-unused-vars\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',{staticClass:\"display-4\"},[_vm._v(_vm._s(_vm.$t('users-list')))]),_c('b-row',_vm._l((_vm.users),function(card,uid){return (!_vm.checkCurrentUser(uid))?_c('UserCard',{key:uid,attrs:{\"card\":card,\"uid\":uid},on:{\"set-like\":_vm.setLike,\"remove-like\":_vm.removeLike}}):_vm._e()}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-col',{attrs:{\"cols\":\"6\"}},[_c('b-card',{staticClass:\"mt-4\",attrs:{\"title\":_vm.card.info.name}},[_c('b-card-text',[_vm._v(_vm._s((_vm.card.info.plan) ? ((_vm.$t('plan')) + \": \" + (_vm.card.info.plan)) : _vm.$t('plan-empty')))]),_c('div',{staticClass:\"d-flex align-items-center\"},[(_vm.user.loggedIn)?_c('div',[(_vm.checkLike())?_c('b-button',{attrs:{\"variant\":\"success\"},on:{\"click\":function($event){return _vm.$emit('remove-like', _vm.uid)}}},[_c('b-icon-heart-fill')],1):_c('b-button',{attrs:{\"variant\":\"secondary\"},on:{\"click\":function($event){return _vm.$emit('set-like', _vm.uid)}}},[_c('b-icon-heart')],1)],1):_vm._e(),_c('span',{staticClass:\"ml-auto text-right\"},[_vm._v(_vm._s(_vm.$t('likes'))+\": \"+_vm._s((_vm.card.likes) ? Object.keys(_vm.card.likes).length : 0))])])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-col cols=\"6\">\n    <b-card\n      class=\"mt-4\"\n      :title=\"card.info.name\"\n    >\n      <b-card-text>{{ (card.info.plan) ? `${$t('plan')}: ${card.info.plan}` : $t('plan-empty') }}</b-card-text>\n\n      <div class=\"d-flex align-items-center\">\n        <div v-if=\"user.loggedIn\">\n          <b-button v-if=\"checkLike()\" variant=\"success\" @click=\"$emit('remove-like', uid)\"><b-icon-heart-fill></b-icon-heart-fill></b-button>\n          <b-button v-else variant=\"secondary\" @click=\"$emit('set-like', uid)\"><b-icon-heart></b-icon-heart></b-button>\n        </div>\n\n        <span class=\"ml-auto text-right\">{{ $t('likes') }}: {{ (card.likes) ? Object.keys(card.likes).length : 0 }}</span>\n      </div>\n    </b-card>\n  </b-col>\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\";\n\nexport default {\n  name: 'user-card',\n\n  data() {\n    return {\n    }\n  },\n\n  props: {\n    uid: {\n      type: String,\n      required: true\n    },\n    card: {\n      type: Object,\n      required: true\n    }\n  },\n\n  mounted() {\n    console.log('userCard', this.card)\n  },\n\n  methods: {\n    checkLike() {\n      return this.card.likes && this.card.likes[this.user.data.uid]\n    },\n  },\n\n  computed: {\n    ...mapGetters({\n      user: 'user'\n    })\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserCard.vue?vue&type=template&id=6eb8bd92&\"\nimport script from \"./UserCard.vue?vue&type=script&lang=js&\"\nexport * from \"./UserCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <h1 class=\"display-4\">{{ $t('users-list') }}</h1>\n\n    <b-row>\n      <UserCard \n        v-if=\"!checkCurrentUser(uid)\"\n        v-for=\"(card, uid) in users\"\n        :key=\"uid\"\n        :card=\"card\"\n        :uid=\"uid\"\n        @set-like=\"setLike\"\n        @remove-like=\"removeLike\"\n      />\n    </b-row>\n  </div>\n</template>\n\n<script>\nimport UserCard from \"@/components/UserCard\";\nimport firebase from \"firebase\";\nimport { mapGetters } from \"vuex\";\n\nexport default {\n  name: \"users\",\n\n  data() {\n    return {\n      users: {},\n      loading: true,\n    }\n  },\n\n  components: {\n    UserCard\n  },\n\n  async mounted() {\n    this.users = await this.getUsers()\n    this.loading = false\n  },\n\n  computed: {\n    ...mapGetters({\n      user: 'user'\n    })\n  },\n\n  methods: {\n    async getUsers() {\n      firebase.database().ref('/users').once('value', snap => {\n        this.users = snap.val()\n      })\n    },\n\n    async setLike(uid) {\n      if ( !this.user.loggedIn ) {\n        this.$router.push(\"login\")\n      } else {\n        await firebase.database().ref(`/users/${uid}/likes`).update({\n          [this.user.data.uid]: true\n        })\n\n        this.users[uid] = Object.assign({}, this.users[uid], {\n          likes: Object.assign({}, this.users[uid].likes, {\n            [this.user.data.uid]: true\n          })\n        })\n      }\n    },\n\n    async removeLike(uid) {\n      await firebase.database().ref(`/users/${uid}/likes/${this.user.data.uid}`).remove()\n      this.$delete(this.users[uid].likes, this.user.data.uid)\n    },\n\n    checkCurrentUser(uid) {\n      return this.user.loggedIn && this.user.data.uid == uid\n    },\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Users.vue?vue&type=template&id=2655f23d&\"\nimport script from \"./Users.vue?vue&type=script&lang=js&\"\nexport * from \"./Users.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}